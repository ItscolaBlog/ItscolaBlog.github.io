<!DOCTYPE html>
<html><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Java and C# developer.">
    <meta name="Author" content="White_cola">
    <meta name="keywords" content="白可乐的博客,White_cola Blog,white_cola,white_cola mcbbs,White_Cola,白可乐">
    <link rel="stylesheet" href=https://itscola.github.io/css/syntax.css>
    <link rel="stylesheet" href=https://itscola.github.io/css/style.css>
    <script src="https://kit.fontawesome.com/1b7478c139.js" crossorigin="anonymous"></script>
    <title>Java GUI 开发 - 简单基本组件，事件处理，事件分类，事件适配器 (二)</title>
  </head><body><aside id="sidenav">
    <header>
    
        <a href=https://itscola.github.io/><img src="https://itscola.github.io/avatar.png" alt="avatar"></a>
        
    

    <a id="branding" href=https://itscola.github.io/>
        
            White_cola Blog
        
    </a>
    </header>

    <nav>
        
            		
            <a href="/"
                
            >
                <i class="fas fa-home fa-sm"></i>
                <span>主页</span>
            </a>
        
            		
            <a href="/blog/"
                
            >
                <i class="blog"></i>
                <span>全部文章</span>
            </a>
        
            		
            <a href="/tags"
                
            >
                <i class="tags"></i>
                <span>标签</span>
            </a>
        
            		
            <a href="https://github.com/itscola"
                
                    target="_blank"
                
            >
                <i class="fab fa-github fa-ms"></i>
                <span>github</span>
            </a>
        
            		
            <a href="/tags/java/"
                
            >
                <i class="java"></i>
                <span>java</span>
            </a>
        
            		
            <a href="/index.xml"
                
            >
                <i class="fas fa-rss fa-ms"></i>
                <span>RSS</span>
            </a>
        
            		
            <a href="/tags/computersystemframework/"
                
            >
                <i class="ComputerSystemFramework"></i>
                <span>计算机系统结构</span>
            </a>
        
    </nav>
</aside>
<main id="main">
            <a href="javascript:void(0)" id="closebtn" onclick="navToggle()"><i class="fas fa-bars fa-lg"></i></a>
            <div class="content">

    
	
    <h1 id="title">Java GUI 开发 - 简单基本组件，事件处理，事件分类，事件适配器 (二)</h1>
    
      
    <nav id="TableOfContents">
  <ul>
    <li><a href="#一简单基本组件">一，简单基本组件</a>
      <ul>
        <li><a href="#1-jlabel-标签">1. JLabel 标签</a></li>
        <li><a href="#2-jbutton-等按钮">2. JButton 等按钮</a></li>
        <li><a href="#jbutton">JButton</a></li>
        <li><a href="#jtogglebutton-">JToggleButton 🔘</a></li>
        <li><a href="#jcheckbox-jradiobutton">JCheckBox JRadioButton</a></li>
      </ul>
    </li>
    <li><a href="#二事件">二.事件</a>
      <ul>
        <li><a href="#21-事件处理">2.1 事件处理</a></li>
        <li><a href="#22-事件分类">2.2 事件分类</a></li>
        <li><a href="#23-事件适配器">2.3 事件适配器</a></li>
      </ul>
    </li>
  </ul>
</nav>
    <hr>
<h1 id="java-ui开发---2">Java UI开发 - 2</h1>
<p>此教程紧接着第一篇内容来 <br>
第一篇：
<a href="https://www.whitecola.top/blog/javaui/java-ui-develope-1/">https://www.whitecola.top/blog/javaui/java-ui-develope-1/</a></p>
<p>上一篇我们讲了 容器 顶级容器 内容窗格 面板 以及 布局，这次我们来讲讲基本的组件，按钮，文本框等等。</p>
<p>点击按钮是要有反应的，这个反应就是我们要讲的 “事件” 来控制。也在本篇文章中这是重点。</p>
<p>Java 自带的 awt，swing 组件太丑？   推荐给你这个：  <br>
<a href="https://github.com/atarw/material-ui-swing">https://github.com/atarw/material-ui-swing</a>  <br>
但是没有基础也会用起来很吃力，等看完文章再上手吧。</p>
<p>当然，还会有第三篇文章 swing 组件， 和第四篇 绘图，第五篇第六盘 JavaFX。   <br>
实际上，如果你想实现基本掌握 UI 开发，那看上一篇和这一篇就差不多够了，后面的可以说是扩展。</p>
<p>很多地方都是通的。比如你理解了 JLabel ， JButton，换一个库，也能快速上手。</p>
<h2 id="一简单基本组件">一，简单基本组件</h2>
<h3 id="1-jlabel-标签">1. JLabel 标签</h3>
<p>当我们要在 UI 中显示文字 图标，又或是图标和文字时，我们就要用到 JLabel 标签。它是不可编辑的，也就是说它仅仅是显示信息给使用者。</p>
<p>我们来看如何创建，也就是来看它的构造方法。</p>
<ul>
<li>JLabel() - 创建一个空的标签</li>
<li>JLabel(Icon image) - 创建一个图标标签</li>
<li>JLabel(String text) - 创建一个文本标签</li>
<li>JLabel(Icon image,int horizontalAlignment) - 创建一个图标标签，并指定水平对齐方式</li>
<li>JLabel(String text,int horizontalAlignment) - 创建一个文本标签，并指定水平对齐方式</li>
<li>JLabel(String text,Icon image,int horizontalAlignment) - 创建一个图标标签，并指定水平对齐方式</li>
</ul>
<p>其中对其参数可以为 JLabel.LEFT JLabel.CENTER JLabel.RIGHT ，左对齐，居中对齐，右对齐。        <br>
默认情况下，文本左对齐，图标居中对齐。内容显示上，垂直向上居中显示。</p>
<p>对齐方式也可以通过调用方法来设置</p>
<pre><code>label.setHorizontalAlignment(JLabel.LEFT); //设置水平向左对齐
label.setVerticalAlignment(JLabel.BOTTOM);  // 设置垂直向下对齐
</code></pre><p>当然我们不一定非要通过构造方法设置文本或图标。可以调用方法动态设置。</p>
<ul>
<li>setText(String text); 设置标签的文本</li>
<li>setIcon(Icon icon); 设置标签的图标</li>
</ul>
<h3 id="2-jbutton-等按钮">2. JButton 等按钮</h3>
<p>如果我们要让用户知道什么可以进行点击操作，最直观的一个就是按钮组件。  <br>
也就是我们这里要讲的 JButton 。</p>
<p>还有 JToggleButton , JCheckBox , JRadioButton 。 切换按钮，多选按钮，单选按钮。 <br>
它们都继承于 抽象类 AbstractButton，共有 setEnable , setText , setIcon 等方法。</p>
<h3 id="jbutton">JButton</h3>
<p>那么上面已经讲解过它是什么了，就直接开门见山了，直接看构造方法。</p>
<ul>
<li>JButton() - 创建一个空白按钮，按钮上无其它元素。</li>
<li>JButton(String text) - 创建一个有文本的按钮。</li>
<li>JButton(Icon icon) - 创建一个有图标的按钮。</li>
<li>JButton(String text,Icon icon) - 创建一个又有图标又有文本的按钮。</li>
</ul>
<p>然后呢？ 按下按钮然后呢？ <strong>不用着急，这篇文章的后面会讲到，我们把事件单独分出来讲</strong>。</p>
<h3 id="jtogglebutton-">JToggleButton 🔘</h3>
<p>这种按钮具有两种状态，默认状态和按下状态。或者准确来说说，选中状态，未选中状态。   <br>
<img src="/javaUI/1.gif" alt="图片"></p>
<p>看到这个，理解了吗？ 虽然 Swing 默认的 JToogleButton 并没有那么好看。没关系，还有第三方组件。</p>
<p>直接上构造方法。</p>
<ul>
<li>JToggleButton() - 创建一个空白切换按钮，按钮上无其它元素。</li>
<li>JToggleButton(Icon icon) - 创建一个有图标的空白切换按钮。</li>
<li>JToggleButton(Icon icon,boolean selected) - 和上面的一样，第二个参数 true 为选中状态，false 为 未选中状态。</li>
<li>JToggleButton(String text) - 创建一个有文本的切换按钮。</li>
<li>JToggleButton(String text,boolean selected) - 和上面的一样，第二个参数 true 为选中状态，false 为 未选中状态。</li>
<li>JToggleButton(String text,Icon icon) - 创建一个既有图标又有文本的切换按钮。</li>
</ul>
<p>默认情况下为 未选中 状态。</p>
<h3 id="jcheckbox-jradiobutton">JCheckBox JRadioButton</h3>
<p>这两个按钮和 JToggleButton 类似，继承于 JToggleButton。   <br>
做过前端的应该很熟悉吧。没做过可以自己创建一个看看，就不专门讲解了。</p>
<h2 id="二事件">二.事件</h2>
<h3 id="21-事件处理">2.1 事件处理</h3>
<p>但用户按下按钮，输入文本，关闭窗口。这些都需要做出一定的反馈。</p>
<p><u>用户在程序界面的操作称为 用户事件。   <br>
对事件的响应称为 事件处理。
</u></p>
<p>我们可以把事件理解为。 当 发生了什么事 的时候，<u>生成一个事件类对象作为参数</u>，并调用事件方法。  我们就可以在这个事件方法中，利用事件类对象所给得信息，对事件进行响应。<u>事件有多种分类，我们称作 事件类型</u>。</p>
<p>我们需要为组件注册事件处理程序，我们讲这种“程序” ，称为 Listener 即 事件侦听程序 侦听器。 <u>用作侦听器的类首先要 实现/继承 一个接口</u>（当然，Java 中类的性质也相当于接口，对 实例 进行一定的约束）。  其次，<u>还要实现来自接口的方法</u>。</p>
<pre><code>package top.whitecola;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

public class Listener implements ActionListener {
    @Override
    public void actionPerformed(ActionEvent e) {
	
    }
}
</code></pre><p>然后给组件添加这个事件。</p>
<pre><code>public static void main(String[] args) {
        JButton jbutton = new JButton(&quot;Hello&quot;);
	Listener actionListener = new Listener();  // 上面创建的 Listener
        jbutton.addActionListener(actionListener);
}
</code></pre><p>新版本的 java，当然可以使用 lambda 表达式。</p>
<pre><code>public static void main(String[] args) {
        JButton jbutton = new JButton(&quot;Hello&quot;);
        jbutton.addActionListener(e-&gt;{
            e.getActionCommand();
        });
}
</code></pre><p>再或是移除这个事件。</p>
<pre><code>public static void main(String[] args) {
        JButton jbutton = new JButton(&quot;Hello&quot;);
	Listener actionListener = new Listener();  // 上面创建的 Listener
        jbutton.removeActionListener(actionListener)
}
</code></pre><p>概念上，我们称这种事件机制叫 <u>委托事件处理模型</u>。</p>
<blockquote>
<p>当 组件 被操作而产生事件的时候，会调用组件添加过的一个或多个侦听程序(侦听器)，把事件对象作为引用参数传入。</p>
</blockquote>
<p>还有一种情况，我们要做自定义的组件，就可以这样使用。</p>
<pre><code>package top.whitecola;

import javax.swing.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

public class HiButton extends JButton implements ActionListener {

    public HiButton(String text){
        super(text);
        addActionListener(this);
    }

    @Override
    public void actionPerformed(ActionEvent e) {
        System.out.println(&quot;Hi&quot;);
    }
}
</code></pre><h3 id="22-事件分类">2.2 事件分类</h3>
<p>不同的组件有不同的特性。比如切换按钮会被选中或是没有被选中，而按钮是被按过。也有一些组件的特性相似。
因此，我们需要区分出不同的事件，以更好的处理。</p>
<p>常见的 java.awt.event 与 javax.swing.event 。 <br>
不得不说这些事件的分类真的很多。我们不一定要立马全部记住，最好的方式是自己写代码。写多了就记住了。</p>
<blockquote>
<p>这边我就直接引用书上的资料了，不过还是要手动打出来，希望对你有帮助。</p>
</blockquote>
<table>
<thead>
<tr>
<th>类型</th>
<th>对应组件</th>
<th>要实现接口</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>ActionEvent</td>
<td>JButton,JCheckBox,JComboBox,JMenuItem,JradioButton</td>
<td>ActionListener</td>
<td>actionPerformed(ActionEvent e) 单击按钮 选择菜单 文本 enter</td>
</tr>
<tr>
<td>AdjustmentEvent</td>
<td>JScrollBar</td>
<td>AdjustmentListener</td>
<td>adjustmentValueChanged(AdjustmentEvent e) 改变滚动栏位置</td>
</tr>
<tr>
<td>ComponentEvent</td>
<td>JComponent及子类</td>
<td>ComponentListener</td>
<td>componentMoved(ComponentEvent e) 组件移动 componentHidden(ComponentEvent e) 组件隐藏 componentResized(ComponentEvent e) 组件缩放 componentShown(ComponentEvent e) 组件显示</td>
</tr>
<tr>
<td>ContainerEvent</td>
<td>JContainer及子类</td>
<td>ContainerListener</td>
<td>componentAdded(ContainerEvent e) 添加组件 componentRemoved(ContainerEvent e) 移除组件</td>
</tr>
<tr>
<td>FocusEvent</td>
<td>JComponent及子类</td>
<td>Focuslistener</td>
<td>focusGained(FocusEvent e) 组件获得焦点  focusLost(FocusEvent e) 组件失去焦点</td>
</tr>
<tr>
<td>ItemEvent</td>
<td>JCheckBox,JCheckBoxMenuItem,JComboBox</td>
<td>ItemListener</td>
<td>itemStateChanged(ItemEvent e) 选择复选框，选择框，单击列表框，选中带复选框</td>
</tr>
<tr>
<td>KeyEvent</td>
<td>JComponent及子类</td>
<td>KeyListener e</td>
<td>keyPressed(KeyEvent e) 键按下，keyReleased(KeyEvent e) 键释放，KeyTyped(KeyEvent e) 输入</td>
</tr>
<tr>
<td><u>MouseButtonEvent</u></td>
<td>JComponent及子类</td>
<td>MouseListener</td>
<td>mousePressed(MouseEvent e) 鼠标键按下，mouseReleased(MouseEvent e) 鼠标键释放， mouseEntered(MouseEvent e) 鼠标进入时 mouseExited(MouseEvent e) 鼠标离开时 mouseClicked(MouseEvent e) 鼠标单击时</td>
</tr>
<tr>
<td><u>MouseMotion</u></td>
<td>JComponent及子类</td>
<td>MouseMotionListener</td>
<td>mouseDragged(MouseEvent e) 鼠标拖动时 mouseMoved(MouseEvent e) 鼠标移动时</td>
</tr>
<tr>
<td>TextEvent</td>
<td>JTextField,JTextArea</td>
<td>TextListener</td>
<td>textValueChanged(TextEvent e) 文本框 文本区内容修改</td>
</tr>
<tr>
<td>WindowEvent</td>
<td>JFrame,JWindow,JDialog</td>
<td>WindowListener</td>
<td>windowClosing(WindowEvent e) 窗口关闭时 windowOpened(WindowEvent e) 窗口打开时 windowIconified(WindowEvent e) 窗口最小化时</td>
</tr>
</tbody>
</table>
<p>好，接下来看个 Demo。</p>
<pre><code>package top.whitecola;

import javax.swing.*;
import java.awt.event.MouseEvent;
import java.awt.event.MouseListener;
import java.awt.event.WindowEvent;
import java.awt.event.WindowListener;

public class Main {

    public static void main(String[] args) {
        JFrame frame = new JFrame();
        frame.addWindowListener(new WindowListener() {
            @Override
            public void windowOpened(WindowEvent e) {
                System.out.println(111111);
            }

            @Override
            public void windowClosing(WindowEvent e) {

            }

            @Override
            public void windowClosed(WindowEvent e) {

            }

            @Override
            public void windowIconified(WindowEvent e) {

            }

            @Override
            public void windowDeiconified(WindowEvent e) {

            }

            @Override
            public void windowActivated(WindowEvent e) {

            }

            @Override
            public void windowDeactivated(WindowEvent e) {

            }
        });

        frame.addMouseListener(new MouseListener() {
            @Override
            public void mouseClicked(MouseEvent e) {

            }

            @Override
            public void mousePressed(MouseEvent e) {

            }

            @Override
            public void mouseReleased(MouseEvent e) {

            }

            @Override
            public void mouseEntered(MouseEvent e) {

            }

            @Override
            public void mouseExited(MouseEvent e) {

            }
        });
    }
}
</code></pre><h3 id="23-事件适配器">2.3 事件适配器</h3>
<p>通过上方代码可以看到，当我们创建一个侦听类，它往往要实现多个来自接口的方法。   <br>
有时候，我们只想实现一个，其它方法不做操作。</p>
<p>这时候我们就要使用 java 提供的 适配器类 Adapter。 实际上 Adapter的实现非常的简单。  <br>
来看一个 java 提供的 Adapter 的源码。</p>
<pre><code>public abstract class MouseAdapter implements MouseListener, MouseWheelListener, MouseMotionListener {
    /**
     * {@inheritDoc}
     */
    public void mouseClicked(MouseEvent e) {}

    /**
     * {@inheritDoc}
     */
    public void mousePressed(MouseEvent e) {}

    /**
     * {@inheritDoc}
     */
    public void mouseReleased(MouseEvent e) {}

    /**
     * {@inheritDoc}
     */
    public void mouseEntered(MouseEvent e) {}

    /**
     * {@inheritDoc}
     */
    public void mouseExited(MouseEvent e) {}

    /**
     * {@inheritDoc}
     * @since 1.6
     */
    public void mouseWheelMoved(MouseWheelEvent e){}

    /**
     * {@inheritDoc}
     * @since 1.6
     */
    public void mouseDragged(MouseEvent e){}

    /**
     * {@inheritDoc}
     * @since 1.6
     */
    public void mouseMoved(MouseEvent e){}
}
</code></pre><p>可以看到非常简单，我们也可以做一个。但这没必要，因为 java 已经为我们提供好了。</p>
<p>那么我们在只需要一个事件的时候，就可以那么做了。</p>
<pre><code>frame.addMouseListener(new MouseAdapter() {
            @Override
            public void mouseClicked(MouseEvent e) {
                System.out.println(1111);
            }
});
</code></pre>
    
	
	
	
    <div class="nav-next-prev">
        <div class="nav-prev">
            
                <a href="https://itscola.github.io/blog/javaui/java-ui-develope-1/"><i class="fas fa-chevron-left"></i></a>
            
        </div>
        <a class="nav-top" href="#">top</i></a>
        <div class="nav-next">
            
                <a href="https://itscola.github.io/blog/ijava/java-mutiple-threads-i/"><i class="fas fa-chevron-right"></i></a>
            
        </div>
    </div>
    

            </div><footer>
<div class="footer-content">

  <div class="contact-info">
      
      
  </div>


<p class="copyright meta">我们都渴望的安静，促使我们不再安静。
 Blog Powered by Hugo.</p>

</div>
</footer></main>
    </body>
    <script src=https://itscola.github.io/js/navbutton.js></script>
</html>
